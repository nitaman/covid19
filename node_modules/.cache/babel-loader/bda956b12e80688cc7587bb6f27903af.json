{"ast":null,"code":"var _jsxFileName = \"/Users/dailytohoku/AWS/react/covid/src/covid-inspection.js\";\nimport React, { Component } from 'react';\nimport { readRemoteFile } from 'react-papaparse';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from 'recharts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class CovidInspection extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleClick = () => {\n      var a = () => {\n        readRemoteFile('./data/04.csv', {\n          complete: results => {\n            var csvObj = csvJoin(results.data, '\\n');\n            var jsonObj = csvToJson(csvObj, {\n              header: 1,\n              columnName: ['name', 'uv', 'pv', 'amt']\n            });\n          }\n        });\n      };\n\n      return a;\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(BarChart, {\n      width: 500,\n      height: 300,\n      data: this.handleClick,\n      margin: {\n        top: 20,\n        right: 30,\n        left: 20,\n        bottom: 5\n      },\n      children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n        strokeDasharray: \"3 3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n        dataKey: \"name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n        dataKey: \"pv\",\n        stackId: \"a\",\n        fill: \"#8884d8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n        dataKey: \"uv\",\n        stackId: \"a\",\n        fill: \"#82ca9d\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nvar csvJoin = function (mycsv, delimit) {\n  return mycsv.join(delimit);\n};\n\nvar csvToJson = function (csvStr, userOptions) {\n  if (typeof csvStr !== 'string') {\n    return null;\n  }\n\n  ;\n  var options = {\n    header: 0,\n    columnName: [],\n    ignoreBlankLine: true\n  };\n\n  if (userOptions) {\n    if (userOptions.header) options.header = userOptions.header;\n    if (userOptions.columnName) options.columnName = userOptions.columnName;\n  }\n\n  var rows = csvStr.split('\\n');\n  var json = [],\n      line = [],\n      row = '',\n      data = {};\n  var i, len, j, len2;\n\n  for (i = 0, len = rows.length; i < len; i++) {\n    if (i + 1 <= options.header) continue;\n    if (options.ignoreBlankLine && rows[i] === '') continue;\n    line = rows[i].split(',');\n\n    if (options.columnName.length > 0) {\n      data = {};\n\n      for (j = 0, len2 = options.columnName.length; j < len2; j++) {\n        if (typeof line[j] !== 'undefined') {\n          row = line[j];\n          row = row.replace(/^\"(.+)?\"$/, '$1');\n        } else {\n          row = null;\n        }\n\n        data[options.columnName[j]] = row;\n      }\n\n      json.push(data);\n    } else {\n      json.push(line);\n    }\n  }\n\n  return json;\n};","map":{"version":3,"sources":["/Users/dailytohoku/AWS/react/covid/src/covid-inspection.js"],"names":["React","Component","readRemoteFile","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","CovidInspection","handleClick","a","complete","results","csvObj","csvJoin","data","jsonObj","csvToJson","header","columnName","render","top","right","left","bottom","mycsv","delimit","join","csvStr","userOptions","options","ignoreBlankLine","rows","split","json","line","row","i","len","j","len2","length","replace","push"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { readRemoteFile } from 'react-papaparse';\nimport { BarChart, Bar,  XAxis, YAxis, CartesianGrid, Tooltip, Legend } from 'recharts';\n\nexport default class CovidInspection extends Component {\n  handleClick = () => {\n    var a = () => {\n      readRemoteFile('./data/04.csv', {\n        complete: (results) => {\n          var csvObj = csvJoin(results.data,'\\n');\n          var jsonObj = csvToJson(csvObj, { header : 1, columnName : ['name', 'uv', 'pv', 'amt'] });\n        },\n      });\n    }\n    return a;\n  };\n  render() {\n    return (\n      <BarChart\n      width={500}\n      height={300}\n      data={\n        this.handleClick\n      }\n      margin={{\n        top: 20,\n        right: 30,\n        left: 20,\n        bottom: 5,\n      }}\n    >\n      <CartesianGrid strokeDasharray=\"3 3\" />\n      <XAxis dataKey=\"name\" />\n      <YAxis />\n      <Tooltip />\n      <Legend />\n      <Bar dataKey=\"pv\" stackId=\"a\" fill=\"#8884d8\" />\n      <Bar dataKey=\"uv\" stackId=\"a\" fill=\"#82ca9d\" />\n    </BarChart>\n\n    );\n  }\n}\n\nvar csvJoin = function(mycsv,delimit) {\n  return mycsv.join(delimit);\n};\n\nvar csvToJson = function(csvStr, userOptions) {\n  if (typeof csvStr !== 'string') {\n    return null\n  };\n  var options = { header : 0, columnName : [], ignoreBlankLine : true };\n  if (userOptions) {\n    if (userOptions.header) options.header = userOptions.header;\n    if (userOptions.columnName) options.columnName = userOptions.columnName;\n  }\n  var rows = csvStr.split('\\n');\n  var json = [], line = [], row = '', data = {};\n  var i, len, j, len2;\n  for (i = 0, len = rows.length; i < len; i++) {\n    if ((i + 1) <= options.header) continue;\n    if (options.ignoreBlankLine && rows[i] === '') continue;\n    line = rows[i].split(',');\n    if (options.columnName.length > 0) {\n      data = {};\n      for (j = 0, len2 = options.columnName.length; j < len2; j++) {\n        if (typeof line[j] !== 'undefined') {\n          row = line[j];\n          row = row.replace(/^\"(.+)?\"$/, '$1');\n        } else {\n          row = null;\n        }\n        data[options.columnName[j]] = row;\n      }\n      json.push(data);\n    } else {\n      json.push(line);\n    }\n  }\n  return json;\n};\n"]},"metadata":{},"sourceType":"module"}